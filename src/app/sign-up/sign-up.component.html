<div class="row m-0 justify-content-center">
  <div class="card border-warning p-0 rounded col-xl-3 col-lg-4 col-md-4 col-sm-6 col-8">
    <div class="card-header bg-warning text-center font-weight-bold ">Sign up to CarShop</div>
  <form class="w-75 mx-auto" (ngSubmit)="f.form.valid && onSignUp(f, success, failure)" #f="ngForm">
      <div class="form-group mt-3">
        <label for="email">Email address</label>
        <input type="email" class="form-control" id="email" name="email" maxlength="50" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
        ngModel #email="ngModel" [ngClass]="{'invalid': f.submitted && email.invalid }" required>
        <div *ngIf="f.submitted && email.invalid">
          <span class="help-block text-danger" *ngIf="email.errors.required">Field is required cannot be empty</span>
          <span class="help-block text-danger" *ngIf="email.errors.pattern">
            This is not valid email address</span>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" id="password" name="password" minlength="6" maxlength="70" ngModel
        #password="ngModel" [ngClass]="{'invalid': f.submitted && password.invalid }" required>
        <div *ngIf="f.submitted && password.invalid">
          <span class="help-block text-danger" *ngIf="password.errors.required">Field is required cannot be empty</span>
          <span class="help-block text-danger" *ngIf="password.errors.minlength">
          The password must contain at least 6 characters</span>
        </div>
      </div>
      <button type="submit" class="btn btn-warning d-block mx-auto">Sign up</button>
      <div class="text-center p-3">Already have an account? <a routerLink="/sign-in">Sign in</a></div>
    </form>
  </div>
</div>
<ng-template #success>
    <div class="modal-header">
      <h4 class="modal-title pull-left text-success">Registration</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body text-success">
      You have successfully registered. If you want to login click on sign in.
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Close</button>
      <button type="button" class="btn btn-primary" routerLink="/sign-in" (click)="modalRef.hide()">Sign in</button>
    </div>
</ng-template>

<ng-template #failure>
  <div class="modal-header">
    <h4 class="modal-title pull-left text-danger">Error</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-danger">
    {{message}}
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Close</button>
  </div>
</ng-template>